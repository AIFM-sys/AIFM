SET(language "python")

cmake_minimum_required (VERSION 2.6)

PROJECT(example_${language}_class)

FIND_PACKAGE(SWIG REQUIRED)
INCLUDE(${SWIG_USE_FILE})

IF(${language} MATCHES python)
  FIND_PACKAGE(PythonLibs)
  INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})
  SET(SWIG_LANG_LIBRARIES ${PYTHON_LIBRARIES})
ENDIF(${language} MATCHES python)
IF(${language} MATCHES perl)
  FIND_PACKAGE(PerlLibs)
  INCLUDE_DIRECTORIES(${PERL_INCLUDE_PATH})
  ADD_DEFINITIONS(${PERL_EXTRA_C_FLAGS})
  SET(SWIG_LANG_LIBRARIES ${PERL_LIBRARY})
ENDIF(${language} MATCHES perl)
IF(${language} MATCHES tcl)
  FIND_PACKAGE(TCL)
  INCLUDE_DIRECTORIES(${TCL_INCLUDE_PATH})
  SET(SWIG_LANG_LIBRARIES ${TCL_LIBRARY})
ENDIF(${language} MATCHES tcl)
IF(${language} MATCHES ruby)
  FIND_PACKAGE(Ruby)
  INCLUDE_DIRECTORIES(${RUBY_INCLUDE_PATH})
  SET(SWIG_LANG_LIBRARIES ${RUBY_LIBRARY})
ENDIF(${language} MATCHES ruby)
IF(${language} MATCHES php4)
  FIND_PACKAGE(PHP4)
  INCLUDE_DIRECTORIES(${PHP4_INCLUDE_PATH}) 
  SET(SWIG_LANG_LIBRARIES ${PHP4_LIBRARY})
ENDIF(${language} MATCHES php4)
IF(${language} MATCHES pike)
  FIND_PACKAGE(Pike)
  INCLUDE_DIRECTORIES(${PIKE_INCLUDE_PATH})
  SET(SWIG_LANG_LIBRARIES ${PIKE_LIBRARY})
ENDIF(${language} MATCHES pike)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

SET(CMAKE_SWIG_FLAGS "")

SET_SOURCE_FILES_PROPERTIES(example.i PROPERTIES CPLUSPLUS ON)
SET_SOURCE_FILES_PROPERTIES(example.i PROPERTIES SWIG_FLAGS "-includeall")
SWIG_ADD_MODULE(example "${language}"
  example.i example.cxx)
SWIG_LINK_LIBRARIES(example ${SWIG_LANG_LIBRARIES})
